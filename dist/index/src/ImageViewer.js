"use client";
import{motion as e}from"framer-motion";import{useState as r,useEffect as n}from"react";import t from"./ImageViewer.module.css.js";import{jsx as s,jsxs as a}from"react/jsx-runtime";function i(i){const l=i.isVisible,c=i.setIsVisible,o=i.style,h=i.styles||t,[f,g]=r(p(i.alts,i.srcs,i.alt,i.src)),[m,u]=r(A(i.alts,i.srcs,i.alt,i.src)),[d,y]=r(v(i.alts,i.srcs,i.alt,i.src));function p(e,r,n,t){if(Array.isArray(e)&&Array.isArray(r)){const s=Math.max(e.length+(n&&!e.includes(n)?1:0),r.length+(t&&!r.includes(t)?1:0));if(e.length!==s){const r=new Array(s).fill("");for(let n=0;n<e.length;n++)r[n]=e[n];return r}return e}return Array.isArray(e)?p(e,new Array(e.length).fill(t||""),n,t):Array.isArray(r)?p(new Array(r.length).fill(n||""),r,n,t):n&&t||n?[n]:t?[""]:[]}function A(e,r,n,t){const s=p(e,r,n=n||"",t=t||""),a=v(e,r,n,t);for(let e=0;e<s.length;e++){const r=s[e],i=a[e];if(r===n&&i===t)return e}return 0}function v(e,r,n,t){if(Array.isArray(e)&&Array.isArray(r)){const s=Math.max(e.length+(n&&!e.includes(n)?1:0),r.length+(t&&!r.includes(t)?1:0));if(r.length!==s){const e=new Array(s).fill(t||"");for(let n=0;n<r.length;n++)e[n]=r[n];return e}return r}return Array.isArray(e)?v(e,new Array(e.length).fill(t||""),n,t):Array.isArray(r)?v(new Array(r.length).fill(n||""),r,n,t):n&&t?[t]:n?[""]:t?[t]:[]}return n((()=>{g(p(i.alts,i.srcs,i.alt,i.src)),u(A(i.alts,i.srcs,i.alt,i.src)),y(v(i.alts,i.srcs,i.alt,i.src))}),[i.alt,i.alts,i.src,i.srcs]),l?s("div",{className:h.image_viewer_container,onClick:function(e){c(!1)},children:a("div",{className:h.image_viewer,onClick:function(e){e.stopPropagation()},style:o,children:[f.length>1&&d.length>1&&s("div",{className:h.previous,children:s(e.button,{className:h.previous_button,onClick:function(e){u(m-1>=0?m-1:Math.min(f.length,d.length)-1)},transition:{type:"spring",stiffness:500},whileHover:{scale:1.1},children:s("span",{"aria-hidden":!0,className:"fa fa-chevron-left fa-3x"})})}),m>=0&&m<f.length&&m<d.length&&s("img",{alt:f[m],src:d[m]}),f.length>1&&d.length>1&&s("div",{className:h.next,children:s(e.button,{className:h.next_button,onClick:function(e){m+1<f.length&&m+1<d.length?u(m+1):u(0)},transition:{type:"spring",stiffness:500},whileHover:{scale:1.1},children:s("span",{"aria-hidden":!0,className:"fa fa-chevron-right fa-3x"})})}),f.length>1&&d.length>1&&s("div",{className:h.images_container,children:s("div",{className:h.images,children:d.map(((r,n)=>s(e.div,{className:h.image+(m===n?" "+h.image_selected:""),onClick:e=>u(n),transition:{type:"spring",stiffness:500},whileHover:{scale:1.03},children:s("img",{alt:f[n],src:r})},"image-"+n)))})}),m>=0&&m<f.length&&m<d.length&&s(e.button,{className:h.close,onClick:function(e){e.stopPropagation(),c(!1)},transition:{type:"spring",stiffness:700},whileHover:{scale:1.2},children:s("span",{"aria-hidden":!0,className:"fa fa-times-circle"})})]})}):null}export{i as default};
