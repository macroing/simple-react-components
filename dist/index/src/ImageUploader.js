"use client";
import{motion as e}from"framer-motion";import{useState as a}from"react";import i from"./FileInputButtonLabel.js";import s from"./ImageUploader.module.css.js";import{jsx as n,jsxs as t}from"react/jsx-runtime";function r(r){const l=r.errorMessageImageTooBig||"The image is too big.",o=r.isVisible,c=r.maximumImageSize||5242880,m=r.onClickUpload,d=r.setIsVisible,f=r.styles||s,p=r.text||"Select Image",[g,u]=a(""),[h,v]=a(null),[N,C]=a("");return o?n("div",{className:f.image_uploader_container,onClick:function(e){d(!1)},children:t("div",{className:f.image_uploader,onClick:function(e){e.stopPropagation()},children:[N&&n("img",{alt:"",src:N}),N&&n(e.div,{className:f.upload,onClick:function(e){e.stopPropagation(),m&&m(e,h),v(null),C(""),d(!1)},transition:{type:"spring",stiffness:700},whileHover:{scale:1.2},children:n("span",{"aria-hidden":!0,className:"fa fa-upload"})}),N&&n(e.div,{className:f.close,onClick:e=>C(""),transition:{type:"spring",stiffness:700},whileHover:{scale:1.2},children:n("span",{"aria-hidden":!0,className:"fa fa-times-circle"})}),g&&n("div",{className:f.error_message,children:g}),!N&&t(i,{accept:"image/*",onChange:function(e){if(e.target.files&&e.target.files.length>0){const a=new FileReader;a.addEventListener("load",(()=>{e.target.files[0].size>c?u(l):(u(""),v(e.target.files[0]),C(a.result?.toString()||""))})),a.readAsDataURL(e.target.files[0])}},children:[n("span",{"aria-hidden":!0,className:"fa fa-image"}),n("span",{children:p})]}),!N&&n(e.div,{className:f.close,onClick:function(e){e.stopPropagation(),u(""),d(!1)},transition:{type:"spring",stiffness:700},whileHover:{scale:1.2},children:n("span",{"aria-hidden":!0,className:"fa fa-times-circle"})})]})}):null}export{r as default};
